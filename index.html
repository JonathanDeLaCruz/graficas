<!-- Styles -->
<style>
  #chartdiv {
    width: 100%;
    height: 500px;
  }
  </style>
  
  <!-- Resources -->
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  
  <!-- Chart code -->
  <script>
  am5.ready(function() {
  
  
  // Create root element
  // https://www.amcharts.com/docs/v5/getting-started/#Root_element
  var root = am5.Root.new("chartdiv");
  
  
  // Set themes
  // https://www.amcharts.com/docs/v5/concepts/themes/
  root.setThemes([
    am5themes_Animated.new(root)
  ]);
  
  
  // Create chart
  // https://www.amcharts.com/docs/v5/charts/xy-chart/
  var chart = root.container.children.push(am5xy.XYChart.new(root, {
    panX: false,
    panY: false,
    paddingLeft: 0,
    wheelX: "panX",
    wheelY: "zoomX",
    layout: root.verticalLayout
  }));
  
  
  // Add legend
  // https://www.amcharts.com/docs/v5/charts/xy-chart/legend-xy-series/
  var legend = chart.children.push(
    am5.Legend.new(root, {
      centerX: am5.p50,
      x: am5.p50
    })
  );
  
  var data = 
  [
  {
        "year": "2013",
        "América": 37,
        "Atlante": 12,
        "Atlas": 12,
        "Chiapas": 25,
        "Cruz Azul": 29,
        "Guadalajara": 12,
        "León": 30,
        "Monterrey": 20,
        "Morelia": 27,
        "Pachuca": 17,
        "Puebla": 19,
        "Querétaro": 26,
        "Santos": 33,
        "Tijuana": 21,
        "Toluca": 27,
        "U.A.N.L": 25,
        "UNAM": 11,
        "Veracruz": 20
    },
    {
        "year": "2014",
        "América": 31,
        "Atlas": 31,
        "Chiapas": 28,
        "Cruz Azul": 21,
        "Guadalajara": 16,
        "León": 22,
        "Monterrey": 27,
        "Morelia": 10,
        "Pachuca": 25,
        "Puebla": 16,
        "Querétaro": 21,
        "Santos": 23,
        "Tijuana": 21,
        "Toluca": 29,
        "U. de G.": 17,
        "U.A.N.L": 31,
        "UNAM": 24,
        "Veracruz": 15
    },
    {
        "year": "2015",
        "América": 28,
        "Atlas": 17,
        "Chiapas": 29,
        "Cruz Azul": 20,
        "Dorados de Sinaloa": 15,
        "Guadalajara": 21,
        "León": 30,
        "Monterrey": 23,
        "Morelia": 23,
        "Pachuca": 21,
        "Puebla": 27,
        "Querétaro": 22,
        "Santos": 17,
        "Tijuana": 16,
        "Toluca": 32,
        "U.A.N.L": 28,
        "UNAM": 35,
        "Veracruz": 27
    },
    {
        "year": "2016",
        "América": 28,
        "Atlas": 19,
        "Chiapas": 9,
        "Cruz Azul": 19,
        "Guadalajara": 28,
        "León": 26,
        "Monterrey": 25,
        "Morelia": 20,
        "Necaxa": 26,
        "Pachuca": 31,
        "Puebla": 20,
        "Querétaro": 20,
        "Santos": 16,
        "Tijuana": 33,
        "Toluca": 24,
        "U.A.N.L": 30,
        "UNAM": 27,
        "Veracruz": 12
    },
    {
        "year": "2017",
        "América": 30,
        "Atlas": 25,
        "Cruz Azul": 27,
        "Guadalajara": 18,
        "León": 26,
        "Lobos BUAP": 23,
        "Monterrey": 37,
        "Morelia": 29,
        "Necaxa": 24,
        "Pachuca": 19,
        "Puebla": 16,
        "Querétaro": 16,
        "Santos": 18,
        "Tijuana": 21,
        "Toluca": 29,
        "U.A.N.L": 32,
        "UNAM": 13,
        "Veracruz": 14
    },
    {
        "year": "2018",
        "América": 33,
        "Atlas": 11,
        "Cruz Azul": 36,
        "Guadalajara": 20,
        "León": 18,
        "Lobos BUAP": 19,
        "Monterrey": 30,
        "Morelia": 25,
        "Necaxa": 14,
        "Pachuca": 24,
        "Puebla": 20,
        "Querétaro": 26,
        "Santos": 30,
        "Tijuana": 17,
        "Toluca": 26,
        "U.A.N.L": 29,
        "UNAM": 30,
        "Veracruz": 10
    },
    {
        "year": "2019",
        "América": 31,
        "Atlas": 21,
        "Atlético de San Luis": 20,
        "Cruz Azul": 23,
        "FC Juarez": 18,
        "Guadalajara": 25,
        "León": 33,
        "Monterrey": 27,
        "Morelia": 27,
        "Necaxa": 31,
        "Pachuca": 25,
        "Puebla": 17,
        "Querétaro": 31,
        "Santos": 37,
        "Tijuana": 24,
        "Toluca": 17,
        "U.A.N.L": 32,
        "UNAM": 23,
        "Veracruz": 8
    },
    {
        "year": "2020",
        "América": 32,
        "Atlas": 14,
        "Atlético de San Luis": 11,
        "Cruz Azul": 29,
        "FC Juarez": 19,
        "Guadalajara": 26,
        "León": 40,
        "Mazatlán FC": 16,
        "Monterrey": 29,
        "Necaxa": 24,
        "Pachuca": 25,
        "Puebla": 20,
        "Querétaro": 13,
        "Santos": 25,
        "Tijuana": 15,
        "Toluca": 21,
        "U.A.N.L": 28,
        "UNAM": 32
    },
    {
        "year": "2021",
        "América": 35,
        "Atlas": 29,
        "Atlético de San Luis": 20,
        "Cruz Azul": 23,
        "FC Juarez": 16,
        "Guadalajara": 22,
        "León": 29,
        "Mazatlán FC": 20,
        "Monterrey": 22,
        "Necaxa": 20,
        "Pachuca": 18,
        "Puebla": 24,
        "Querétaro": 15,
        "Santos": 24,
        "Tijuana": 15,
        "Toluca": 24,
        "U.A.N.L": 28,
        "UNAM": 21
    },
    {
        "year": "2022",
        "América": 34,
        "Atlas": 21,
        "Atlético de San Luis": 19,
        "Cruz Azul": 24,
        "FC Juarez": 15,
        "Guadalajara": 34,
        "León": 27,
        "Mazatlán FC": 7,
        "Monterrey": 40,
        "Necaxa": 14,
        "Pachuca": 28,
        "Puebla": 20,
        "Querétaro": 20,
        "Santos": 19,
        "Tijuana": 16,
        "Toluca": 32,
        "U.A.N.L": 25,
        "UNAM": 18
    },
    {
        "year": "2023",
        "América": 35,
        "Atlas": 14,
        "Atlético de San Luis": 16,
        "Cruz Azul": 33,
        "FC Juarez": 16,
        "Guadalajara": 31,
        "León": 24,
        "Mazatlán FC": 16,
        "Monterrey": 32,
        "Necaxa": 27,
        "Pachuca": 29,
        "Puebla": 5,
        "Querétaro": 24,
        "Santos": 15,
        "Tijuana": 14,
        "Toluca": 32,
        "U.A.N.L": 31,
        "UNAM": 27
    }
  ];
  
  
  // Create axes
  // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
  var xRenderer = am5xy.AxisRendererX.new(root, {
    cellStartLocation: 0.1,
    cellEndLocation: 0.9,
    minorGridEnabled: true
  })
  
  var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
    categoryField: "year",
    renderer: xRenderer,
    tooltip: am5.Tooltip.new(root, {})
  }));
  
  xRenderer.grid.template.setAll({
    location: 1
  })
  
  xAxis.data.setAll(data);
  
  var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
    renderer: am5xy.AxisRendererY.new(root, {
      strokeOpacity: 0.1
    })
  }));
  
  
  // Add series
  // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
  function makeSeries(name, fieldName) {
    var series = chart.series.push(am5xy.ColumnSeries.new(root, {
      name: name,
      xAxis: xAxis,
      yAxis: yAxis,
      valueYField: fieldName,
      categoryXField: "year"
    }));
    series.columns.template.setAll({
      tooltipText: "{name}, {categoryX}:{valueY}",
      width: am5.percent(90),
      tooltipY: 0,
      strokeOpacity: 0
    });
    
    series.data.setAll(data);
    // Make stuff animate on load
    // https://www.amcharts.com/docs/v5/concepts/animations/
    series.appear();
  
    series.bullets.push(function () {
      return am5.Bullet.new(root, {
        locationY: 0,
        sprite: am5.Label.new(root, {
          text: "{valueY}",
          fill: root.interfaceColors.get("alternativeText"),
          centerY: 0,
          centerX: am5.p50,
          populateText: true
        })
      });
    });
  
    legend.data.push(series);
  }
  
// Crear un conjunto para rastrear los equipos procesados
var processedTeams = new Set();

// Crear las llamadas a makeSeries
var makeSeriesCalls = [];

data.forEach(function(entry) {
    Object.keys(entry).forEach(function(team) {
        if (team !== "year" && !processedTeams.has(team)) {
            makeSeries(team, team);
            // Marcar el equipo como procesado
            processedTeams.add(team);
        }
    });
});
  
  
  // Make stuff animate on load
  // https://www.amcharts.com/docs/v5/concepts/animations/
  chart.appear(1000, 100);
  
  }); // end am5.ready()
  </script>
  
  <!-- HTML -->
  <h1 style="text-align: center;">Gráfica 1</h1>
  <h2 style="text-align: center; color: green;">El total de puntos obtenidos por los equipos anualmente</h2>
  <div id="chartdiv"></div>
  amCharts
